{% extends "layout.html" %}
{% block content %}
<div class="content blue-bg">
    <div class="center-contents">
        <span id="file-name">Task Name: {{ task_name }}</span>
    </div>
    <div class="center-contents">
        <span id="model-name">Model Name: {{ model_name }}</span>
    </div>
    <div class="nes-table-responsive content">
        <blockquote>
            <table class="nes-table is-bordered is-centered">
                <thead>
                    <tr>
                        <td scope="col">Function Name</td>
                        <th scope="col">EntryPoint</th>
                    </tr>
                </thead>
                <tbody>
                    {% for functionInfo in prediction["predictions"] %}
                    <tr>
                        <td>{{ functionInfo["functionName"] }}</td>
                        <td>0x{{ functionInfo["lowAddress"] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </blockquote>
        <div class="center-contents">
            <button type="button" class="nes-btn is-primary mr-25" onclick="deletePrediction()">Delete</button> <button
                type="button" class="nes-btn is-primary" onclick="history.back()">Go Back</button>
        </div>
    </div>
</div>

<script>
    function deletePrediction() {
        var selection = document.getElementById("model-name").innerText;
        var modelToDelete = selection.split(':')[1].replace(/\s+/, "");
        var currentURL = window.location.href;
        var url = "/deleteModel" + "?modelName=" + modelToDelete;
        if (url) {
            window.location = "/";
        }
    }
</script>

{% endblock %}